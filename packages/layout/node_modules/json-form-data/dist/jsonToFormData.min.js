!function(n,t){n=n||{},"function"==typeof define&&define.amd?define([],function(){return n.jsonToFormData=t()}):"object"==typeof module&&module.exports?module.exports=n.jsonToFormData=t():n.jsonToFormData=t()}(this,function(){function c(n){return"[object Array]"==={}.toString.call(n)}function s(n){return!(c(n)||"object"!=typeof n||!n||n instanceof Blob||n instanceof Date)}function o(){return"function"==typeof FormData}return function(n,t){if(t&&t.initialFormData){if("function"!=typeof t.initialFormData.append)throw"initialFormData must have an append function."}else if(!o())throw"This environment does not have global form data. options.initialFormData must be specified.";var e=[{initialFormData:function(){if(o())return new FormData}(),showLeafArrayIndexes:!0,includeNullValues:!1,mapping:function(n){return"boolean"==typeof n?+n?"1":"0":n}},t||{}].reduce(function(t,e){return Object.keys(e).forEach(function(n){t[n]=e[n]}),t},{});return function n(t,e,o,a){var i=0;for(var r in t){if(t.hasOwnProperty(r)){var f=a||r,u=e.mapping(t[r]);if(a&&s(t)&&(f=a+"["+r+"]"),a&&c(t)&&(f=c(u)||e.showLeafArrayIndexes?a+"["+i+"]":a+"[]"),c(u)||s(u))n(u,e,o,f);else if(u instanceof FileList)for(var l=0;l<u.length;l++)o.append(f+"["+l+"]",u.item(l));else u instanceof Blob?o.append(f,u,u.name):u instanceof Date?o.append(f,u.toISOString()):(null===u&&e.includeNullValues||null!==u)&&void 0!==u&&o.append(f,u)}i++}return o}(n,e,e.initialFormData)}});