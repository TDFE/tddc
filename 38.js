(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[38],{"+89s":function(e,t,n){"use strict";n.r(t),n.d(t,"sliceName",(function(){return S}));var a=n("k1fw"),o=(n("Cvf5"),n("vprC")),r=(n("6Fki"),n("qDDj")),i=n("0Owb"),l=n("9og8"),c=(n("FR2D"),n("XQh4")),d=n("tJVT"),s=n("WmNS"),u=n.n(s),v=n("q1tI"),m=n.n(v),p=n("BhE5"),f=n.n(p),h=(n("unWr"),n("xVCw")),g=(n("zVZA"),n("2RU2")),w=(n("cN7o"),n("NYFC")),b=(n("PG1J"),n("M+Sw")),x=(n("p5Mg"),n("KakZ")),y={convert(e){var t={nodes:[],lines:[]},n={},a=e.flowNodeDefinitions,o=void 0===a?[]:a,r=e.flowLineDefinitions,i=void 0===r?[]:r;return t.nodes=o.map((e=>{n[e.id]=e,e.attributes=e.attributes||{},e.incomingFields=e.incomingFields||[],e.outgoingFields=e.outgoingFields||[];var t={uuid:e.id,x:e.x,y:e.y,type:e.nodeType,name:e.name,data:{}};return t})),t.lines=i.map((e=>{e.attributes=e.attributes||{};var t={uuid:e.id,fromPoint:e.fromPoint,toPoint:e.toPoint,data:{},from:e.sourceNodeId,to:e.targetNodeId};return t})),t},format(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={flowNodeDefinitions:[],flowLineDefinitions:[]},r=t.graph.node,i=e.nodes,l=void 0===i?[]:i,d=e.lines,s=[],u={};if(l.map(((e,t)=>{var n=r.nodes[e.uuid],i=n.toLines,l=n.fromLines,c=e.data||{},d={x:e.x,y:e.y,id:e.uuid,name:e.name,nodeType:e.type,attributes:Object(a["a"])({},c||{}),incomingFields:[],outgoingFields:[]};switch(e.type){case"start":i.size<1&&s.push(m.a.createElement("p",{key:"1-".concat(t)},"[\u5f00\u59cb]\u7f3a\u5c11\u8f93\u51fa\u6d41")),u["start"]&&s.push(m.a.createElement("p",{key:t},"[\u5f00\u59cb]\u5f00\u59cb\u8282\u70b9\u53ea\u80fd\u6709\u4e00\u4e2a")),u["start"]=!0;break;case"end":l.size<1&&s.push(m.a.createElement("p",{key:"2-".concat(t)},"[\u7ed3\u675f]\u7f3a\u5c11\u8f93\u5165\u6d41")),u["end"]=!0;break;default:}o.flowNodeDefinitions.push(d)})),o.flowLineDefinitions=d.map((e=>{var t=(null===e||void 0===e?void 0:e.data)||{},n=r.nodes[e.from].data,o={id:e.uuid,fromPoint:e.fromPoint,toPoint:e.toPoint,attributes:Object(a["a"])({},t||{}),sourceNodeId:e.from,targetNodeId:e.to};switch(n.type){case"ExclusiveGateway":break;default:break}return o})),!n&&s.length>0){var v={};return s=s.filter((e=>!v[e.props.children]&&(v[e.props.children]=!0,!0))),x["a"].warning({zIndex:1100,title:"\u914d\u7f6e\u4e0d\u5408\u6cd5\uff0c\u539f\u56e0\u5982\u4e0b\uff1a",content:m.a.createElement("div",null,s)}),!1}return n||0!==o.flowNodeDefinitions.length?(this.res=o,o):(c["a"].warn("\u914d\u7f6e\u4e0d\u80fd\u4e3a\u7a7a"),!1)}},E=y,N=(n("qSB3"),{redo:"\u91cd\u505a",undo:"\u64a4\u9500","zoom-in":"\u653e\u5927","zoom-out":"\u7f29\u5c0f",fullscreen:"\u6700\u5927\u5316",delete:"\u5220\u9664","deployment-unit":"\u6392\u5e8f",copy:"\u62f7\u8d1d\u89c4\u5219\u6d41",autoFit:"\u9002\u5e94\u753b\u5e03"}),k=e=>{var t,n=e||{},a=n.editor,i=n.previewMode,l=n.operateGroup,c=n.DataConvert,s=n.commandAction,u=Object(v["useState"])(!1),p=Object(d["default"])(u,2),f=p[0],x=p[1],y=Object(v["useState"])(!1),k=Object(d["default"])(y,2),j=k[0],O=k[1],C=Object(v["useState"])(!1),z=Object(d["default"])(C,2),F=z[0],L=z[1],S=Object(v["useRef"])(a),D=a||{},P=D.schema.history,T=D.graph,R=D.controller;D.paper;Object(v["useEffect"])((()=>{a&&S.current!==a&&(S.current=a,B(e))}),[a]);var B=e=>{a&&(a.off("change"),a.off("node:click"),a.off("node:unactive"),a.off("paper:click"),a.off("node:remove"),a.on("change",(()=>{var e=P.index<P.schemaList.length-1,t=P.index>0;x(e),O(t)})),a.graph.on("node:click",(e=>{e.node;var t,n=0!==Object.keys(a.graph.node.actives).length||(null===(t=a.graph.line)||void 0===t?void 0:t.activeLine);L(n)})),a.graph.on("node:unactive",(()=>{var e,t=0!==Object.keys(a.graph.node.actives).length||(null===(e=a.graph.line)||void 0===e?void 0:e.activeLine);L(t)})),a.graph.on("paper:click",(()=>{var e,t=0!==Object.keys(a.graph.node.actives).length||(null===(e=a.graph.line)||void 0===e?void 0:e.activeLine);L(t)})),a.graph.on("node:remove",(()=>{L(!1)})))},I=()=>{a.schema.redo()},M=()=>{a.schema.undo()},W=()=>{var e=T||{},t=e.node,n=e.line,a=[];for(var o in t.actives)t.deleteNode(t.actives[o]),delete t.actives[o],a.push(o);n.activeLine&&n.deleteLine(n.activeLine),T.fire("delete",{deleteKeys:a})},A=e=>{var t=a.graph.line.lines,n=1,o=3;"x"===e&&(n=1,o=3,a.config.dagreOption={nodesep:90,ranksep:90,edgesep:40,rankdir:"LR"}),"y"===e&&(n=2,o=0,a.config.dagreOption={ranksep:60}),Object.values(t).forEach((e=>{e.data.fromPoint=n,e.data.toPoint=o})),a.schema.format(),a.controller.autoFit()},J=e=>{switch(e){case"redo":return f&&I;case"undo":return j&&M;case"zoom-in":return()=>{R.zoom(1.05)};case"zoom-out":return()=>{R.zoom(.95)};case"autoFit":return()=>{R.autoFit(!0,!0,!0)};case"fullscreen":return s["fullscreen"]||void 0;case"delete":return()=>{F&&W()}}},G=e=>{var t="";switch(e){case"redo":f||(t="disable");break;case"undo":j||(t="disable");break;case"delete":F||(t="disable");break}return t},X=e=>{var t=[];null===e||void 0===e||e.forEach((e=>{var n=null;if("object"===typeof e){var a=e;e=a.type,n=a.click}e&&t.push(m.a.createElement("span",{className:"".concat(G(e)," command-item"),onClick:n||J(e)},!["autoFit"].includes(e)&&m.a.createElement(b["a"],{type:e}),"autoFit"===e&&m.a.createElement("span",{className:"edit-flow-icon-auto-fit"}),N[e]))}));var n=m.a.createElement(w["a"],null,m.a.createElement(w["a"].Item,{onClick:()=>A("y")},"\u7eb5\u5411\u6392\u5e8f"),m.a.createElement(w["a"].Item,{onClick:()=>A("x")},"\u6a2a\u5411\u6392\u5e8f"));return t.push(m.a.createElement(g["a"],{overlay:n,placement:"bottomLeft"},m.a.createElement("label",{className:"command-item"},m.a.createElement(b["a"],{type:"deployment-unit"}),"\u683c\u5f0f\u5316\u6392\u5e8f"))),t},Y=["zoom-out","zoom-in"];return i?(Y=Y.concat(["autoFit"]),s&&s["fullscreen"]&&(Y=Y.concat(["fullscreen"]))):Y=Y.concat(["autoFit","redo","undo","delete"]),a?m.a.createElement(m.a.Fragment,null,i&&m.a.createElement(h["a"].Group,{className:"flow-btn-wrap",size:"small"},null===(t=Y)||void 0===t?void 0:t.map((e=>(console.log("type",e),m.a.createElement(o["a"],{title:N[e],key:e},m.a.createElement(h["a"],{onClick:J(e)},!["autoFit"].includes(e)&&m.a.createElement(b["a"],{type:e}),"autoFit"===e&&m.a.createElement("span",{className:"flow-icon-auto-fit"}))))))),!i&&m.a.createElement("div",{className:"job-top-bar"},m.a.createElement(r["a"],{type:"flex",align:"middle",justify:"space-between",className:"flow-editor-hd"},m.a.createElement("div",null,X(Y)),null===l||void 0===l?void 0:l.map((e=>m.a.createElement(h["a"],{key:null===e||void 0===e?void 0:e.name,loading:null===e||void 0===e?void 0:e.loading,type:null===e||void 0===e?void 0:e.type,onClick:()=>{var t=E;c&&(t=c);var n=a||{},o=n.schema,r=t.format(o.getData(),a);null===e||void 0===e||e.click(r)}},null===e||void 0===e?void 0:e.name)))))):null},j=(n("plC5"),e=>{var t=e||{},n=t.onDrop,a=t.flowNodesDict,r=t.showType,i=Object(v["useState"])(null),l=Object(d["default"])(i,2),c=l[0],s=l[1],u=Object(v["useState"])(-990),p=Object(d["default"])(u,2),f=p[0],h=p[1],g=Object(v["useState"])(-990),w=Object(d["default"])(g,2),b=w[0],x=w[1],y=c||{},E=y.size,N=void 0===E?[]:E,k=e=>{s(e),h(-9990),x(-9990)},j=Object(v["useCallback"])((e=>{h(e.pageX),x(e.pageY+(document.body.getBoundingClientRect().top||0))}),[c]),O=Object(v["useCallback"])((e=>{n&&n(c,e),s(null),window.document.removeEventListener("mousemove",j),window.document.removeEventListener("mouseup",O)}),[c]);Object(v["useEffect"])((()=>{c&&(window.document.addEventListener("mousemove",j),window.document.addEventListener("mouseup",O))}),[c]);var C=()=>{var e=[];return null===a||void 0===a||a.map((t=>{var n=t.type||t.code,a=n.toLowerCase(),o=t.shape;["circle"].includes(o)||["\u5f00\u59cb","\u7ed3\u675f"].includes(t.name)?e.push({type:n,name:t.name,shape:o||"circle",iconColor:t.iconColor,size:[50,50]}):["rhombus"].includes(o)||a.includes("parallel")||a.includes("exclusive")?e.push({type:n,name:t.name,shape:o||"rhombus",size:[60,56]}):e.push({type:n,name:t.name,shape:"ellipse",prefixName:(null===t||void 0===t?void 0:t.iconText)||"?",iconColor:t.iconColor,size:[120,28]})})),e.map(((e,t)=>{if("subflow"===r&&["SubDecisionFlowNode"].indexOf(e.type)>-1)return null;var n=e||{},a=n.type,i=n.help;return m.a.createElement(o["a"],{key:t,placement:"right",overlayStyle:{fontSize:12},title:i},m.a.createElement("div",{key:a,className:"flow-item ".concat(z(e)),onMouseDown:()=>{k(e)}},F(e)))}))},z=e=>{var t=e.type,n=e.shape,a=n?"flow-".concat(n):"",o=t.toLowerCase();return null!==o&&void 0!==o&&o.startsWith("start")&&(a+=" start"),null!==o&&void 0!==o&&o.startsWith("end")&&(a+=" end"),null!==o&&void 0!==o&&o.startsWith("exclusive")&&(a+=" exclusive"),null!==o&&void 0!==o&&o.startsWith("parallel")&&(a+=" parallel"),a},F=e=>m.a.createElement(m.a.Fragment,null,(null===e||void 0===e?void 0:e.prefixName)&&m.a.createElement("span",{style:{backgroundColor:(null===e||void 0===e?void 0:e.iconColor)||"#e6b55e"}},null===e||void 0===e?void 0:e.prefixName),null===e||void 0===e?void 0:e.name);return m.a.createElement("div",{className:"job-left-bar"},m.a.createElement("div",{style:{left:null!==c&&void 0!==c&&c.name?f-N[0]/2:-9999,top:null!==c&&void 0!==c&&c.name?b-N[1]/2:-9999,display:null!==c&&void 0!==c&&c.type?"block":"none",zIndex:10},className:"".concat(c?z(c):""," flow-item drag-item")},F(c)),m.a.createElement("div",{className:"item-list"},C()))}),O=n("Zazc"),C=n.n(O),z=n("e1nP"),F=n.n(z),L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal 12px Robot",n=document.createElement("canvas"),a=n.getContext("2d");a.font=t;var o=a.measureText(e);return o.width},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,n="";if(e&&(null===e||void 0===e?void 0:e.length)>6)for(var a=6;a<(null===e||void 0===e?void 0:e.length);a++){var o=L(e.slice(0,a+1));if(o>t){n=a;break}}return n?e.slice(0,n)+"...":e};function D(e,t){var n=(e,t,n)=>{var a=e.name,o=a;o&&(o=S(o));var r=t.text(15,15,n.iconText),i=t.circle(15,14,11);r.attr({fill:"#fff",fontSize:12}),i.attr({fill:n.color});var l=t.group(i,r),c=t.text(30,15,o),d=c.getBBox(),s=d.w,u=t.rect(0,0,Math.max(s+40,120),28,15,15);u.attr({fill:"#eaeefa",stroke:"#d0dcfd",class:"flow-icon-node",strokeWidth:1}),c.attr({fill:"#454f64",textAnchor:"start",data:o,class:"flow-txt-node",fontSize:12});var v=document.createElementNS("http://www.w3.org/2000/svg","foreignObject");v.innerHTML='<span xmlns="http://www.w3.org/1999/xhtml" class="task-status"></span>';var m=window.Snap(v);return m.attr({width:14,height:14,x:u.getBBox().width-14,y:0}),t.group(u,l,c,m)},a=()=>{var a=function(a){var o=t[a],r=(null===o||void 0===o?void 0:o.type)||(null===o||void 0===o?void 0:o.code),i=null===r||void 0===r?void 0:r.toLowerCase();i.startsWith("start")?e.graph.node.registeNode(r,{render:(e,t)=>{var n=t.circle(25,25,25),a=t.text(25,25,e.name);return n.attr({fill:"#628FE4",class:"flow-icon-node"}),a.attr({fill:"#fff",class:"flow-txt-node"}),t.group(n,a)},linkPoints:[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}]},"default"):i.startsWith("end")?e.graph.node.registeNode(r,{render:(e,t)=>{var n=t.circle(25,25,25),a=t.text(25,25,e.name);return n.attr({fill:"#869FBE",class:"flow-icon-node"}),a.attr({fill:"#fff",class:"flow-txt-node"}),t.group(n,a)},linkPoints:[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}]},"default"):i.startsWith("parallel")?e.graph.node.registeNode(r,{render:(e,t)=>{var n,a=t.image(F.a,0,0,60,56);a.node.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");var o=t.text(30,28,e.name);return o.attr({fill:"#24AF95",class:"flow-txt-node"}),null===o||void 0===o||null===(n=o.node)||void 0===n||n.setAttribute("font-size","12px"),t.group(a,o)},linkPoints:[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}]},"default"):i.startsWith("exclusive")?e.graph.node.registeNode(r,{render:(e,t)=>{var n,a=t.image(C.a,0,0,60,56);a.node.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");var o=t.text(30,28,e.name);return o.attr({fill:"#F67613",class:"flow-txt-node"}),null===o||void 0===o||null===(n=o.node)||void 0===n||n.setAttribute("font-size","12px"),t.group(a,o)},linkPoints:[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}]},"default"):e.graph.node.registeNode(r,{render:(e,t)=>n(e,t,{iconText:o.iconText||"?",color:o.iconColor||"#E6B55E"}),linkPoints:[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1},{x:0,y:.5}]},"iconNode")};for(var o in t)a(o)};a()}class P{constructor(e){this.showType=e}show(e,t,n){return Object(l["default"])(u.a.mark((function a(){var o,r;return u.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r=e.data,"SubDecisionFlowNode"===(null===e||void 0===e||null===(o=e.data)||void 0===o?void 0:o.type)&&t.graph.node.unActive(e),n({nodeId:r.uuid,type:r.fromType||r.type});case 3:case"end":return a.stop()}}),a)})))()}}var T=P,R=(n("hiJZ"),void 0);t["default"]=Object(v["forwardRef"])(((e,t)=>{var n,s=Object(v["useRef"])(),p=Object(v["useRef"])(),h=Object(v["useRef"])(),g=Object(v["useState"])(),w=Object(d["default"])(g,2),b=w[0],x=w[1],y=Object(v["useState"])(null),N=Object(d["default"])(y,2),O=N[0],C=N[1],z=Object(v["useState"])(!1),F=Object(d["default"])(z,2),L=F[0],S=F[1],P=e.type,B=e.graphData,I=e.flowNodesDict,M=void 0===I?[]:I,W=e.auditedNodes,A=void 0===W?[]:W,J=e.className,G=e.showMiniMap,X=void 0===G||G,Y=e.DataConvert,Z=e.toolTipNameHandle,q=e.dialogHide,V=e.showType,H=e.dialogDom,K=void 0===H?[]:H,Q=e.editorStyle,U=e.onRef,$=e.checkLineExtendFn,_=e.showLengend,ee=e.LengendDom,te=e.autoDiffAuditNodes,ne=void 0===te||te,ae="view"===P,oe=Object(v["useRef"])(A);Object(v["useImperativeHandle"])(t,(()=>({updateGraph:ie})));var re=(e,t)=>{var n=t.graph.node.nodes,a=e.from,o=e.to;if(a===o)return!1;var r=n[a],i=n[o],l=r||{},d=l.data,s=d.type,u=d.name,v=l.fromLines,m=i||{},p=m.data,f=p.type,h=p.name,g=m.toLines;return["start"].includes(f)&&g&&g.size?(c["a"].error(h+"\u4e0d\u80fd\u8bbe\u7f6e\u8f93\u5165\u6d41"),!1):["end"].includes(s)&&v&&v.size?(c["a"].error(u+"\u4e0d\u80fd\u8bbe\u7f6e\u8f93\u51fa\u6d41"),!1):($&&$({data:e,editor:t}),!0)};Object(v["useEffect"])((()=>{var e=()=>{var e=document.querySelector(".job-editor").getBoundingClientRect(),t=e.height,n=e.width;t&&s&&(s.current.style.height=t-(ae?0:48)+"px",s.current.style.width=n-(ae?0:140)+"px"),p.current&&p.current.controller.autoFit()},t=function(){var t=Object(l["default"])(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(h.current=new T(V),e(),p.current=new f.a({dom:s.current,showMiniMap:X,mode:ae?"view":"edit"}),D(p.current,M),!B){t.next=7;break}return t.next=7,ie(B);case 7:p.current.graph.line.shapes["default"]&&(p.current.graph.line.shapes["default"].checkNewLine=re),le(),U&&U(R),S(!0);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t(),window.addEventListener("resize",e),()=>{p.current&&(p.current.graph.clearGraph(),p.current.destroy(),p.current=null),S(!1),window.removeEventListener("resize",e)}}),[]);var ie=function(){var e=Object(l["default"])(u.a.mark((function e(t){var n,a,o;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a="object"===typeof t?t:JSON.parse(t||"{}"),o=E,Y&&(o=Y),e.next=6,p.current.schema.setInitData(null===(n=o)||void 0===n?void 0:n.convert(a,p.current));case 6:return e.next=8,p.current.controller.autoFit();case 8:ce(),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),c["a"].error("\u89e3\u6790\u6570\u636e\u9519\u8bef,"+(null===e.t0||void 0===e.t0?void 0:e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();Object(v["useEffect"])((()=>{p.current&&L&&ie(B)}),[B,L]),Object(v["useEffect"])((()=>{ne&&p.current&&L&&JSON.stringify(A)!==JSON.stringify(null===oe||void 0===oe?void 0:oe.current)&&(ie(B),oe.current=A)}),[B,A,ne]);var le=()=>{var t;null===p||void 0===p||p.current.graph.on("node:click",(n=>{var a,o,r=n.node;null===(a=document.getElementsByClassName("lb-workflow-header")[0])||void 0===a||null===(o=a.children[1])||void 0===o||o.blur();var i=(new Date).getTime();i-t<300&&!q&&h.current.show(r,null===p||void 0===p?void 0:p.current,(e=>{C(e)})),t=i,e.onNodeClick&&e.onNodeClick(r.data)})),null===p||void 0===p||p.current.graph.on("node:mouseenter",(e=>{var t=e.node,n=t.node.getBoundingClientRect();x({nowTextNode:Z?Z(t.data):t.data,textVisible:!0,textX:n.x+n.width/2,textY:n.y-5})})),null===p||void 0===p||p.current.graph.on("node:mouseleave",(()=>{x(null)})),null===p||void 0===p||p.current.graph.on("node:remove",(()=>{x(null)}))},ce=function(){var e=Object(l["default"])(u.a.mark((function e(){var t,n,a,o,r,i,l,c,d,s,v;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null!==A&&void 0!==A&&A.length){e.next=2;break}return e.abrupt("return");case 2:for(c in t=(null===p||void 0===p?void 0:p.current)||{},n=t.graph,a=n||{},o=a.node.nodes,r=a.line.lines,i=[],l=[],A.forEach((e=>{i.push(null===e||void 0===e?void 0:e.uuid)})),A.forEach((e=>{var t=e||{},n=t.uuid,a="instance ".concat(e.status||"");for(var c in Object.values(o).forEach((e=>{e.data.uuid===n&&(e.data.className="".concat(e.data.className||""," ").concat(a),e.addClass(a))})),r){var d=r[c];n===d.data.to&&i.indexOf(d.data.from)>-1&&(d.data.className="".concat(d.data.className||"","  ").concat(a),d.addClass(a),l.push(d.data.uuid))}})),o)i.includes(c)||(d=o[c],d.data.className="".concat(d.data.className||""," unrun"),d.addClass("unrun"));for(s in r)l.includes(s)||(v=r[s],v.data.className="".concat(v.data.className||""," unrun"),v.addClass("unrun"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=(e,t)=>{var n,a,o=null===p||void 0===p||null===(n=p.current)||void 0===n?void 0:n.dom.node,r=(null===e||void 0===e?void 0:e.initName)||(null===e||void 0===e?void 0:e.name),i=e||{},l=i.size,c=void 0===l?[]:l,d=null===p||void 0===p?void 0:p.current.paper.transform(),s=d.globalMatrix.split(),u=o.getBoundingClientRect();if(!(t.clientX-u.x<0||t.clientY-u.y<0)){var v=(t.clientX-u.x-s.dx)/s.scalex-c[0]/2*s.scalex,m=(t.clientY-u.y-s.dy)/s.scalex-c[1]/2*s.scalex;null===p||void 0===p||null===(a=p.current)||void 0===a||a.graph.node.addNode(Object.assign({},e,{type:null===e||void 0===e?void 0:e.type,data:(null===e||void 0===e?void 0:e.data)||{},name:r,x:v,y:m}))}};return m.a.createElement("div",Object(i["default"])({className:"job-editor ".concat(J||"")},Q),!ae&&L&&(null===p||void 0===p?void 0:p.current)&&m.a.createElement(j,Object(i["default"])({},e,{editor:p.current,onDrop:de})),m.a.createElement("div",{className:"job-content flow-editor-content"},L&&!(null===p||void 0===p||!p.current)&&m.a.createElement(k,Object(i["default"])({},e,{previewMode:ae,editor:p.current})),m.a.createElement("div",{className:"job-mm-editor",ref:s}),!!_&&(ee||m.a.createElement(r["a"],{type:"flex",className:"mm-lengend"},m.a.createElement("span",{className:"success"},m.a.createElement("i",null),"\u8fd0\u884c\u5b8c\u6210"),m.a.createElement("span",{className:"running"},m.a.createElement("i",null),"\u8fd0\u884c\u4e2d"),m.a.createElement("span",{className:"fail"},m.a.createElement("i",null),"\u8fd0\u884c\u5931\u8d25")))),m.a.createElement("div",{style:{position:"fixed",left:null===b||void 0===b?void 0:b.textX,top:null===b||void 0===b?void 0:b.textY,display:null!==b&&void 0!==b&&b.textVisible?"block":"none"}},m.a.createElement(o["a"],{visible:!0,title:"".concat(null===b||void 0===b||null===(n=b.nowTextNode)||void 0===n?void 0:n.name)})),null===K||void 0===K?void 0:K.map((t=>m.a.cloneElement(t,Object(a["a"])(Object(a["a"])({},e),{},{dialogShowInfo:O,disabled:ae,editor:null===p||void 0===p?void 0:p.current,onCancel:()=>{C(null)}})))))}))},Zazc:function(e,t,n){e.exports=n.p+"static/flow-exclusivity.29399230.svg"},e1nP:function(e,t,n){e.exports=n.p+"static/flow-parallel.7e09bc25.svg"},hiJZ:function(e,t,n){},plC5:function(e,t,n){},qSB3:function(e,t,n){}}]);